---
title: "R 脚本逻辑可视化"
author:
  - "**[编辑]** [郑虎](https://github.com/ZhengTiger);"
  - "**[审核]** ."
---

::: callout-note
**Hiplot 网站**

本页面为 Hiplot `R Script Flow` 插件的源码版本教程，您也可以使用 Hiplot 网站实现无代码绘图，更多信息请查看以下链接:

<https://hiplot.cn/basic/r-code-flow?lang=zh_cn>
:::

R 脚本逻辑可视化能够实现对 if，else 等逻辑函数进行可视化的窗口。

## 环境配置

-   系统: Cross-platform (Linux/MacOS/Windows)

-   编程语言: R

-   依赖包: `flow`

```{r packages setup, message=FALSE, warning=FALSE, output=FALSE}
# 安装包
if (!requireNamespace("flow", quietly = TRUE)) {
  install.packages("flow")
}

# 加载包
library(flow)
```

```{r}
sessioninfo::session_info("attached")
```

## 数据准备

载入数据为 R 语言 if，else 函数代码

```{r load data, message=FALSE, warning=FALSE}
# 加载数据
code <- function(){
  if (x < 10) {
    a <- 1
  } else {
    a <- 2
  }
  if (a == 2) {
    c <- d
  } else {
    d <- a
  }
}
```

## 可视化

```{r fig-1r-code-flow}
#| label: fig-1r-code-flow
#| fig-cap: ""
#| out.width: "95%"
#| fig-height: 5
#| fig-width: 5
#| warning: false
#| error: false
#| message: false
#| eval: false

# R 脚本逻辑可视化
p <- flow_view(code)

p
```

::: {#fig-ViolinPlotApplications4}
![](../images/Hiplot/149-r-code-flow.jpg){fig-alt="R Script Flow" fig-align="center" width="95%"}

R 脚本逻辑可视化
:::

图示表示如果变量 x < 10，a = 1,如果变量 x > 10，a = 2；如果 a = 2，则 c = d，如果 a 不等于2，则 d = a。


